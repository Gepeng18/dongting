今天是2022年7月25日，我在快手的最后一天，今年也正好是我工作的第20年。

我是2019年加入快手，3年来，大部分时候都在做消息系统相关的工作，非常感谢大家的帮助和支持。
这段时间在各方面还是很有收获的，比如以前做过的项目，以今天的标准来衡量，已经不够看了，这说明又有了提高。

不过，在一个地方待久了，人难免像温水煮青蛙一样失去活力。
大公司里的成就，很难分清是个人的还是公司的，好多人离开了平台就一无是处，我一直很在意这一点，所以也不想继续在公司里狐假虎威。
就像上次我离开阿里一样，又一次，在大公司工作几年以后，我突然悟了。
那就成为输送到社会的人才，给其他人更多的机会吧。

以后去做点更好玩的。

在技术方面，做了几年的MQ以后，我也想自己做一个玩玩。
现有的消息系统还有可以改进的地方，哪怕是沿用现有的设计，实现的时候更加严格考究一点，也会有不小的提升吧。 
不过既然都新做了，那设计上改进一下，也是必须的。
另一方面，我还有一个设想，MQ和RPC也许应该是同一个东西。

所以，我想做一个 raft/mq/config/rpc 四合一的高性能引擎。只做一个通用的内核，上面可以二次开发出各种系统。
实际上，raft/mq/config这3个可能会互相依赖，它们应该是高内聚在一起的。rpc的实现优先级低，最后再做。

我还有一个想法，这个项目应该零依赖。
也就是说，raft、mq、config、rpc这四个东西，最后应该在一个（或几个）jar里面，没有任何第三方依赖，所有的jar文件大小加起来不超过1MB。
公司教导我们，要追求极致，零依赖就是依赖治理的极致，这个原则对于基础组件或者业务共享组件都适用：

**你不依赖别人，别人才能更好的依赖你。**

有人可能想问：听起来似乎不错，不过这个项目的投入产出比是什么呢？有什么价值？解决了用户的什么问题？什么叫做的好？要怎么推广和运营呢？

哇哈哈哈哈哈哈哈。。。。。。。。。。。。。。

先做了再说，重要的是过程不是结果，不行么？还有很多其他僵化的想法，他们说你要云原生，要计算和存储分离，你要做mesh。。。去他妈的。
我有自己的判断，不会去追逐傻逼的潮流和词汇。

我准备花3年时间全职来打造这个项目，能够部分对标以下系统：

* etcd/sofa-jraft
* nacos
* kafka/rocketmq/pulsar
* grpc

一个人，1MB，这可行吗？以上任何一个组件，分发包都远大于1MB。
我以前在kstack也分析过为什么java项目最后都这么大，能不能解决，我们试试看呗。
预计不发生变故的话，这个项目是可以做出来的，但是能否做的比较好（是否够小，质量如何，性能如何等），我就没有把握了。
我自己也非常好奇，最后能搞到什么程度，会不会做成世界一流的基础组件，以后你只要做这方面的项目或方案，就应该基于我这个项目做呢？
那岂不是要成为夜之城的传奇？

等这事做完以后，不管结果如何，就去找个小地方混吃等死，到时候你们记得收留我。

我在GitHub上建立了项目，起了一个中式名字，以湖泊命名，我会把开发过程中的文章也写在这个项目devlogs目录里面，包括这一篇。
很多本文没能细说的事情（比如为什么是java，为什么是这4个组件要做在一起等等），有机会以后慢慢说吧。

时无英雄，使竖子成名。那我这个竖子也试一试？

我们[GitHub](https://github.com/areyouok)见。





* *补充1：也许netty是一个不好绕过的依赖，要不要对自己网开一面，允许使用netty（多2MB）呢？我想先不用试试，要是以后不得不用，也不算特别丢人。*
* *补充2：我得先把以前的其它项目升级维护一下，估计还要再过一些天才能正式开始做这个项目。*
* *补充3：我做事很慢的。*





